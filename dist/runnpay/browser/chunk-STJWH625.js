import{a as U,b as Q,c as X,d as Y,e as Z,f as $,g as ee,h as te}from"./chunk-RIFFER2U.js";import{b as A,c as J,d as H}from"./chunk-636Y3XME.js";import"./chunk-OBRJ757G.js";import"./chunk-CCNCB34X.js";import"./chunk-WU3Q2LLN.js";import{a as K}from"./chunk-TV2UUO7P.js";import"./chunk-KSYCYRKV.js";import"./chunk-CAW32RFB.js";import{b as k,d as z,e as j,f as G}from"./chunk-IIH6LLD4.js";import{c as L,f as O}from"./chunk-ULXS3ZDD.js";import{a as T,c as V}from"./chunk-YWIM4UNJ.js";import{Da as N,Ga as F,Ka as W,Pa as B}from"./chunk-PCQKHSJI.js";import{$b as v,Ac as q,Ha as s,Hb as o,Ib as R,Jb as u,Lb as h,Mb as f,Na as _,Nb as D,Pb as b,Ta as C,W as m,X as d,Ya as y,Yb as w,Zb as E,_b as I,eb as g,nb as t,ob as i,pb as M,tb as x,vb as S,wb as c,zc as P}from"./chunk-XAYFPFYS.js";import"./chunk-4CLCTAJ7.js";var oe=()=>[15,30,45];function ne(l,n){if(l&1){let e=x();t(0,"div")(1,"input",11),D("ngModelChange",function(r){m(e);let p=c();return f(p.reportsService.requestReportDispersion.idDispersion,r)||(p.reportsService.requestReportDispersion.idDispersion=r),d(r)}),i(),t(2,"input",12),D("ngModelChange",function(r){m(e);let p=c();return f(p.reportsService.requestReportDispersion.referencia,r)||(p.reportsService.requestReportDispersion.referencia=r),d(r)}),i(),t(3,"input",13),D("ngModelChange",function(r){m(e);let p=c();return f(p.reportsService.requestReportDispersion.documento,r)||(p.reportsService.requestReportDispersion.documento=r),d(r)}),i(),t(4,"p-datepicker",14),D("ngModelChange",function(r){m(e);let p=c();return f(p.reportsService.requestReportDispersion.fechaInicio,r)||(p.reportsService.requestReportDispersion.fechaInicio=r),d(r)}),i(),t(5,"p-datepicker",15),D("ngModelChange",function(r){m(e);let p=c();return f(p.reportsService.requestReportDispersion.fechaFin,r)||(p.reportsService.requestReportDispersion.fechaFin=r),d(r)}),i()(),t(6,"div",16)(7,"div",17)(8,"button",18),S("click",function(){m(e);let r=c();return d(r.clear())}),i(),t(9,"button",19),S("click",function(){m(e);let r=c();return d(r.GetData())}),i()()()}if(l&2){let e=c();s(),h("ngModel",e.reportsService.requestReportDispersion.idDispersion),s(),h("ngModel",e.reportsService.requestReportDispersion.referencia),s(),h("ngModel",e.reportsService.requestReportDispersion.documento),s(),h("ngModel",e.reportsService.requestReportDispersion.fechaInicio),g("iconDisplay","input")("showIcon",!0),s(),h("ngModel",e.reportsService.requestReportDispersion.fechaFin),g("iconDisplay","input")("showIcon",!0)}}function se(l,n){l&1&&(t(0,"tr")(1,"th",20)(2,"div",21),o(3," Id Dispersion "),i()(),t(4,"th",20)(5,"div",21),o(6," Monto "),i()(),t(7,"th",22)(8,"div",21),o(9," Estado "),i()(),t(10,"th",23)(11,"div",21),o(12," Referencia "),i()(),t(13,"th",23)(14,"div",21),o(15," Banco "),i()(),t(16,"th",23)(17,"div",21),o(18," Cuenta "),i()(),t(19,"th",20)(20,"div",21),o(21," Fecha creaci\xF3n "),i()(),t(22,"th",20)(23,"div",21),o(24," Documento usuario "),i()(),t(25,"th",20)(26,"div",21),o(27," Nombre usuario "),i()()())}function ae(l,n){if(l&1&&(t(0,"tr")(1,"td")(2,"span"),o(3),i()(),t(4,"td")(5,"span"),o(6),w(7,"formatoDinero"),i()(),t(8,"td"),M(9,"p-tag",24),i(),t(10,"td"),o(11),i(),t(12,"td"),o(13),i(),t(14,"td"),o(15),i(),t(16,"td"),o(17),w(18,"date"),i(),t(19,"td"),o(20),i(),t(21,"td"),o(22),i()()),l&2){let e=n.$implicit,a=c();s(3),R(e.IdDispersion),s(3),R(E(7,10,e.Monto)),s(3),g("value",e.Estado)("severity",a.getSeverity(e.Estado)),s(2),u(" ",e.Referencia," "),s(2),u(" ",e.Banco," "),s(2),u(" ",e.NumeroCuenta," "),s(2),u(" ",I(18,12,e.FechaCreacion,"dd/MM/yyyy")," "),s(3),u(" ",e.NumeroDocumento," "),s(2),u(" ",e.UsuNombre," ")}}function pe(l,n){l&1&&(t(0,"tr")(1,"td",25),o(2,"No customers found."),i()())}function le(l,n){l&1&&(t(0,"tr")(1,"td",25),o(2,"Loading customers data. Please wait."),i()())}var ie=class l{constructor(n,e,a){this.reportsService=n;this.toast=e;this.authService=a}DataReport=[];totalPa=0;margin="margin: 2px;";ngOnInit(){this.GetData()}GetData(){var n=this.authService.getApp();this.reportsService.requestReportDispersion.idAplicacion=n??"",this.reportsService.requestReportDispersion.ini=1,this.reportsService.requestReportDispersion.fin=15,this.reportsService.GetReportDispersion().subscribe(e=>{e.Respuesta?(this.DataReport=e.Data,this.totalPa=this.DataReport[0].Conteo,this.reportsService.contentData.pageNumber=1):this.toast.error(e.Mensaje)},e=>{this.toast.error("No logramos realizar tu gesti\xF3n, intenta nuevamente.")})}clear(){this.reportsService.requestReportDispersion.ini=1,this.reportsService.requestReportDispersion.fin=15,this.reportsService.requestReportDispersion.idDispersion=null,this.reportsService.requestReportDispersion.referencia="",this.reportsService.requestReportDispersion.documento="",this.reportsService.requestReportDispersion.fechaInicio=null,this.reportsService.requestReportDispersion.fechaFin=null,this.reportsService.contentData.pageNumber=1,this.reportsService.GetReportDispersion().subscribe(n=>{n.Respuesta?(this.DataReport=n.Data,this.totalPa=this.DataReport[0].Conteo):this.toast.error(n.Mensaje)},n=>{this.toast.error("No logramos realizar tu gesti\xF3n, intenta nuevamente.")})}getSeverity(n){switch(n){case"Dispersi\xF3n Finalizada":return"success";case"Rechazo Dispersi\xF3n":return"danger";case"Por Dispersar":case"Por Dispersar":return"info";default:return"warn"}}PageChange(n){this.reportsService.contentData.pageNumber=n.page+1,this.reportsService.contentData.pageSize=n.rows,this.reportsService.requestReportDispersion.fin=this.reportsService.contentData.pageNumber*this.reportsService.contentData.pageSize,this.reportsService.requestReportDispersion.ini=this.reportsService.requestReportDispersion.fin-this.reportsService.contentData.pageSize,this.reportsService.requestReportDispersion.ini=this.reportsService.requestReportDispersion.ini==0?1:this.reportsService.requestReportDispersion.ini,this.reportsService.GetReportDispersion().subscribe(e=>{e.Respuesta?(this.DataReport=e.Data,this.totalPa=this.DataReport[0].Conteo):this.toast.error(e.Mensaje)},e=>{this.toast.error("No logramos realizar tu gesti\xF3n, intenta nuevamente.")})}static \u0275fac=function(e){return new(e||l)(_(te),_(L),_(O))};static \u0275cmp=C({type:l,selectors:[["app-report-transacrtion"]],decls:17,vars:10,consts:[["dt1",""],["caption",""],["header",""],["body",""],["emptymessage",""],["loadingbody",""],[1,"card"],[1,"font-semibold","text-xl","mb-4"],["dataKey","id","responsiveLayout","scroll",3,"value","rows","rowHover","showGridlines","paginator"],[1,"col-6"],[3,"onPageChange","first","rows","totalRecords","rowsPerPageOptions"],["type","text","pInputText","","placeholder","Id Dispersion",2,"margin","2px",3,"ngModelChange","ngModel"],["type","text","pInputText","","placeholder","Referencia",2,"margin","2px",3,"ngModelChange","ngModel"],["type","text","pInputText","","placeholder","documento",2,"margin","2px",3,"ngModelChange","ngModel"],["inputId","icondisplay","placeholder","Fecha inicio",3,"ngModelChange","ngModel","iconDisplay","showIcon"],["inputId","icondisplay","placeholder","Fecha fin",3,"ngModelChange","ngModel","iconDisplay","showIcon"],[1,"flex","justify-between","items-center","flex-col","sm:flex-row"],[1,"flex"],["pButton","","label","Limpiar","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",2,"margin","2px",3,"click"],["pButton","","label","Buscar","icon","pi pi-search",1,"p-button-outlined","mb-2",2,"margin","2px",3,"click"],[2,"min-width","12rem"],[1,"flex","justify-between","items-center"],[2,"min-width","14rem"],[2,"min-width","10rem"],[3,"value","severity"],["colspan","9"]],template:function(e,a){if(e&1){let r=x();t(0,"div",6)(1,"div",7),o(2,"Dispersiones"),i(),t(3,"p-table",8,0),y(5,ne,10,9,"ng-template",null,1,v)(7,se,28,0,"ng-template",null,2,v)(9,ae,23,15,"ng-template",null,3,v)(11,pe,3,0,"ng-template",null,4,v)(13,le,3,0,"ng-template",null,5,v),i(),t(15,"div",9)(16,"p-paginator",10),S("onPageChange",function(re){return m(r),d(a.PageChange(re))}),i()()()}e&2&&(s(3),g("value",a.DataReport)("rows",15)("rowHover",!0)("showGridlines",!0)("paginator",!1),s(13),g("first",(a.reportsService.contentData.pageNumber-1)*a.reportsService.contentData.pageSize)("rows",a.reportsService.contentData.pageSize)("totalRecords",a.totalPa)("rowsPerPageOptions",b(9,oe)))},dependencies:[U,Z,Y,z,ee,$,V,T,A,q,P,B,N,F,W,k,G,j,K,X,Q,H,J],styles:[".p-datatable-frozen-tbody[_ngcontent-%COMP%], .p-datatable-scrollable[_ngcontent-%COMP%]   .p-frozen-column[_ngcontent-%COMP%]{font-weight:700}"]})};export{ie as ReportDispersionComponent};
